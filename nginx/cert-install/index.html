<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>HTTPS-Zertifikat installieren</title>
<style>
body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif; margin: 2rem; line-height: 1.6; color: #111; }
main { max-width: 760px; margin: 0 auto; }
code { background: #f2f2f2; padding: 2px 6px; border-radius: 4px; }
small { color: #555; }
.card { border: 1px solid #e5e5e5; border-radius: 12px; padding: 1rem 1.2rem; margin: 1rem 0; background: #fafafa; }
.warn { border-color: #f1c40f; background: #fff9e6; }
.steps ol { margin-top: 0.5rem; }
.tabs { display: flex; gap: 0.5rem; margin: 0.75rem 0 0; flex-wrap: wrap; }
.tab { border: 1px solid #ddd; padding: 0.45rem 0.8rem; border-radius: 999px; cursor: pointer; background: #fff; font-weight: 600; }
.tab[aria-selected="true"] { border-color: #111; background: #111; color: #fff; }
.tab-panel { margin-top: 1rem; }
[hidden] { display: none !important; }
</style>
</head>
<body>
<main>

<h1>HTTPS-Zertifikat installieren</h1>

<p>Damit die App als PWA (Vollbild, offline-fähig) funktioniert, muss das lokale HTTPS-Zertifikat einmalig auf dem Gerät installiert werden.</p>

<h2>1. Zertifikat herunterladen</h2>
<p><a href="myCA.pem" download><strong>myCA.pem herunterladen</strong></a></p>

<p><small>Tipp: Öffne diese Seite über <code>http://gmbh.local/cert-install</code> im lokalen WLAN.</small></p>

<h2>2. Installation</h2>
<div class="tabs" role="tablist" aria-label="Gerät wählen">
  <button class="tab" role="tab" aria-selected="true" aria-controls="tab-android" id="tab-android-btn">Android</button>
  <button class="tab" role="tab" aria-selected="false" aria-controls="tab-ios" id="tab-ios-btn">iOS / iPadOS</button>
</div>

<div class="tab-panel" role="tabpanel" id="tab-android" aria-labelledby="tab-android-btn">
  <div class="card steps">
    <h3>Android (Chrome)</h3>
    <ol>
      <li>Datei <strong>myCA.pem</strong> öffnen (Download-Manager oder Datei-App).</li>
      <li>Es öffnet sich <strong>Zertifikat installieren</strong>.</li>
      <li>Typ auswählen: <strong>CA-Zertifikat</strong> oder <strong>VPN & Apps</strong>.</li>
      <li>Installieren und bestätigen (Sicherheitswarnung akzeptieren).</li>
    </ol>
    <p><small>Pfad kann je nach Hersteller abweichen: Einstellungen → Sicherheit → Verschlüsselung & Anmeldedaten → Zertifikat installieren.</small></p>
  </div>
</div>

<div class="tab-panel" role="tabpanel" id="tab-ios" aria-labelledby="tab-ios-btn" hidden>
  <div class="card steps">
    <h3>iOS / iPadOS (Safari)</h3>
    <ol>
      <li>Datei <strong>myCA.pem</strong> in Safari laden.</li>
      <li>Einstellungen öffnen → <strong>Profil geladen</strong> → Installieren.</li>
      <li>Danach: Einstellungen → Allgemein → Info → <strong>Zertifikatvertrauenseinstellungen</strong> → Zertifikat aktivieren.</li>
    </ol>
    <p><small>Ohne den letzten Schritt wird HTTPS weiter als unsicher angezeigt.</small></p>
  </div>
</div>

<div class="card warn">
  <strong>Wichtig:</strong> Dieses Zertifikat ist nur für das lokale WLAN gedacht. Es wird keine Internetverbindung benötigt.
</div>

<h2>3. App als PWA installieren (Vollbild)</h2>
<div class="tab-panel" role="tabpanel" id="tab-android-pwa" aria-labelledby="tab-android-btn">
  <div class="card steps">
    <h3>Android</h3>
    <ol>
      <li>App öffnen: <code>https://gmbh.local</code></li>
      <li>Chrome-Menü → <strong>Zum Startbildschirm hinzufügen</strong></li>
    </ol>
  </div>
</div>

<div class="tab-panel" role="tabpanel" id="tab-ios-pwa" aria-labelledby="tab-ios-btn" hidden>
  <div class="card steps">
    <h3>iOS / iPadOS</h3>
    <ol>
      <li>App öffnen: <code>https://gmbh.local</code></li>
      <li>Teilen → <strong>Zum Home-Bildschirm</strong></li>
    </ol>
  </div>
</div>

<div class="card">
  <h3>Offline-Hinweis</h3>
  <p>Die App funktioniert ohne Internet. Wichtig ist nur, dass Gerät und Server im gleichen WLAN sind.</p>
</div>

</main>
<script>
  (function () {
    var tabs = Array.from(document.querySelectorAll('.tab'));
    function setTab(id) {
      tabs.forEach(function (btn) {
        var selected = btn.id === id;
        btn.setAttribute('aria-selected', selected ? 'true' : 'false');
      });
      var showAndroid = id === 'tab-android-btn';
      document.getElementById('tab-android').hidden = !showAndroid;
      document.getElementById('tab-ios').hidden = showAndroid;
      document.getElementById('tab-android-pwa').hidden = !showAndroid;
      document.getElementById('tab-ios-pwa').hidden = showAndroid;
    }
    tabs.forEach(function (btn) {
      btn.addEventListener('click', function () {
        setTab(btn.id);
      });
    });
    setTab('tab-android-btn');
  })();
</script>
</body>
</html>
